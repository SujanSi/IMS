{% extends "layout.html" %}
<!-- Example of including Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">


{% block body %}
<div class="container">

  <div class="m-1 border-2 rounded-b-3xl card card-size mt-3">
<div class="page-wrapper mt-4">
    <!-- Page header -->
    <div class="page-header d-print-none">
      <div class="container-xl">
        <div class="row g-2 align-items-center">
          <div class="col">
            <h2 class="page-title">
              Invoice
            </h2>
          </div>
          <!-- Page title actions -->
          <div class="col-auto ms-auto d-print-none">
            <button type="button" class="btn btn-primary" onclick="javascript:window.print();">
              <!-- Download SVG icon from http://tabler-icons.io/i/printer -->
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"></path><path d="M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"></path><path d="M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"></path></svg>
              Print Invoice
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Page body -->
    <div class="page-body">
      <div class="container-xl">
        <div class="card card-lg">
          <div class="card-body">

            <div class="row text-center">
              <div class="col-md-3"> <!-- Left-aligned section for Company -->
                  <p class="h3">Company</p>
                  <address>
                      {{ company_info.name }}<br>
                      {{ company_info.address }}<br>
                      {{ company_info.city }}<br>
                      {{ company_info.email }}
                  </address>
              </div>
              <div class="col-md-4"> <!-- Empty middle column -->
                  <!-- Leave this column empty as requested -->
              </div>
              <div class="col-md-5 text-md-end"> <!-- Right-aligned section for Client -->
                  <p class="h3">Client</p>
                  <address>
                      <p class="h3">{{ user.username }}</p>
                      <p>{{ user.email }}</p>
                  </address>
                </div>
            </div>
          </div>
            <div class="row mt-5">
              <div class="col-12 text-center"> <!-- Center align the invoice heading -->
                <h1>Invoice</h1>
              </div>
            </div>
            
<br><br>
            <table class="table table-transparent table-responsive">
              <thead>
                <tr>
                  <th class="text-center" style="width: 1%"></th>
                  <th>Product</th>
                  <th class="text-center" style="width: 1%">Qnt</th>
                  <th class="text-center" style="width: 1%">Units</th>
                  <th class="text-end" style="width: 1%">Price</th>
                  <th class="text-end" style="width: 1%">Amount</th>
                </tr>
              </thead>
              <tbody><tr>
                {% for order_item in order_items %}
                <td class="text-center">{{ forloop.counter }}</td>
                <td>
                  <p class="strong mb-1">{{ order_item.product.name }}</p>
                </td>
                <td class="text-center">
                    {{ order_item.quantity }}
                </td>
                <td>{{ order_item.unit_name }}</td>
                <td>${{ order_item.price }}</td>
                <td class="text-end">${{ order_item.total }}</td>
              </tr>
              {% endfor %}
              
              <tr>
                <td colspan="5" class="strong text-end">Subtotal</td>
                <td class="text-end">${{ subtotal }}</td>
              </tr>
              <tr>
                <td colspan="5" class="strong text-end">Vat Rate</td>
                <td class="text-end">{{ vat_rate|floatformat:2 }}%</td>
              </tr>
              <tr>
                <td colspan="5" class="strong text-end">Vat Due</td>
                <td class="text-end">${{ vat_due }}</td>
              </tr>
              <tr>
                <td colspan="5" class="font-weight-bold text-uppercase text-end">Total Due</td>
                <td class="font-weight-bold text-end">${{ total_due }}</td>
              </tr>

            </tbody></table>
            <p class="text-secondary text-center mt-5">Thank you very much for doing business with us. We look forward to working with
              you again!</p>
          </div>
        </div>
      </div>
    </div>
    
  </div>
  {% endblock body %}